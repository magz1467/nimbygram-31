import { create } from 'zustand';

interface MapViewState {
  isMapView: boolean;
  setMapView: (isMapView: boolean) => void;
}

export const useMapViewStore = create<MapViewState>((set) => ({
  isMapView: false,
  setMapView: (isMapView) => set({ isMapView }),
}));

// Add an event listener for the custom mapViewRequested event
// This provides a clean way to handle map view requests without overriding navigation
window.addEventListener('mapViewRequested', (event: any) => {
  if (event.detail?.url) {
    console.log('Map view requested via custom event:', event.detail.url);
    useMapViewStore.getState().setMapView(true);
  }
}); 