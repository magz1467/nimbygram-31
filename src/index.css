
/* Base styles */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
@import url('https://unpkg.com/leaflet@1.9.4/dist/leaflet.css');

/* ========================
   Global Resets and Base
   ======================== */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  background-color: #F6F6F7;
  color: #47463f;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
  min-height: 100vh;
}

/* ========================
   Layout & Container
   ======================== */
#root {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  width: 100%;
  max-width: 100%;
  margin: 0 auto;
}

.container {
  width: 100%;
  max-width: 1280px !important;
  margin-left: auto;
  margin-right: auto;
  padding: 0 1rem;
  position: relative;
}

@media (min-width: 640px) {
  .container {
    padding: 0 2rem;
  }
}

@media (min-width: 1024px) {
  .container {
    padding: 0 4rem;
  }
}

/* ========================
   Typography Base Styles
   ======================== */
h1, h2, h3, h4, h5, h6 {
  font-weight: 600;
  line-height: 1.2;
  margin-bottom: 0.5em;
}

p {
  margin-bottom: 1em;
}

a {
  color: #8bc5be;
  text-decoration: none;
  transition: color 0.2s ease;
}

a:hover {
  color: #7ab0a9;
}

/* ========================
   Prose Content Styling
   ======================== */
.prose {
  max-width: 65ch;
  color: #47463f;
}

.prose p {
  margin-top: 1em;
  margin-bottom: 1em;
}

/* List styling - THIS IS THE CRITICAL PART FOR CONSISTENT BULLETS */
.prose ul,
.list-disc {
  list-style-type: disc;
  list-style-position: outside;
  margin-top: 1em;
  margin-bottom: 1em;
  padding-left: 1.5rem;
}

.prose ol {
  list-style-type: decimal;
  list-style-position: outside;
  margin-top: 1em;
  margin-bottom: 1em;
  padding-left: 1.5rem;
}

.prose li,
.list-disc li {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
  display: list-item;
}

/* Make bullet points visible with consistent color */
.prose li::marker,
.list-disc li::marker {
  color: #8bc5be;
}

/* Headings */
.prose h1 {
  font-size: 2rem;
  margin-top: 0;
  margin-bottom: 0.8em;
}

.prose h2 {
  font-size: 1.5rem;
  margin-top: 1.6em;
  margin-bottom: 0.8em;
}

.prose h3 {
  font-size: 1.25rem;
  margin-top: 1.6em;
  margin-bottom: 0.6em;
}

/* Prevent empty headings from taking up space */
h3:only-child {
  margin-bottom: 0;
}

/* ========================
   Custom Bullet Points
   ======================== */
/* Only use this class when you want custom bullets, not for regular lists */
.bullet-point {
  position: relative;
  padding-left: 1.5rem;
  margin-bottom: 0.75rem;
}

.bullet-point::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0.5em;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background-color: #8bc5be;
}

/* ========================
   Emoji Bullet Styling
   ======================== */
.emoji-bullet {
  display: flex;
  align-items: flex-start;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
}

.emoji-bullet .emoji {
  flex-shrink: 0;
  margin-right: 0.25rem;
}

/* ========================
   Hide Scrollbars
   ======================== */
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

/* ========================
   Map Styles
   ======================== */
.leaflet-container {
  width: 100%;
  height: 100%;
  z-index: 1;
}

/* Fix z-index for map controls */
.leaflet-top,
.leaflet-bottom {
  z-index: 1000;
}

/* Ensure markers remain on top */
.leaflet-marker-pane {
  z-index: 1200;
}

/* Ensure popup is visible */
.leaflet-popup-pane {
  z-index: 1300;
}

/* Custom pin styles */
.custom-pin {
  background: transparent !important;
  border: none !important;
}

/* Map overlay animation */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.map-overlay {
  animation: fadeIn 0.3s ease-out;
  z-index: 9999;
}

/* ========================
   Media Queries for Mobile
   ======================== */
@media (max-width: 768px) {
  /* Typography adjustments */
  .prose {
    font-size: 0.9rem;
  }
  
  .prose h3 {
    font-size: 1rem;
    margin-bottom: 0.5rem;
  }
  
  /* Improved list spacing */
  .prose ul,
  .list-disc {
    padding-left: 1.5rem;
  }
  
  .prose li,
  .list-disc li {
    padding-left: 0.25rem;
    margin-bottom: 0.625rem;
  }
  
  /* Enhanced bullet visibility */
  .prose li::marker,
  .list-disc li::marker {
    font-size: 1.2em;
  }
  
  /* Ensure section spacing */
  .space-y-6 > div {
    margin-top: 1rem;
    margin-bottom: 1rem;
  }
  
  /* Card content spacing */
  .p-4 > div:not(:last-child) {
    margin-bottom: 1rem;
  }
  
  /* Text handling */
  .text-gray-700, 
  .text-gray-600 {
    overflow-wrap: break-word;
    word-wrap: break-word;
    word-break: break-word;
    hyphens: auto;
  }
  
  /* Map container on mobile */
  .mobile-map-container {
    height: 70vh !important;
    z-index: 10;
    position: relative;
  }
  
  /* Improve map buttons visibility */
  .mobile-map-container .leaflet-control-container .leaflet-top {
    top: 60px;
  }
  
  .mobile-map-container .leaflet-control-zoom {
    margin-top: 10px !important;
  }
  
  /* Application cards on mobile */
  .fixed.bottom-0 {
    z-index: 1500;
    max-height: 70vh;
    overflow-y: auto;
    box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.1);
  }
  
  /* Safe area padding for bottom content */
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom, 20px);
  }
  
  /* Minicard drag handle */
  .drag-handle {
    margin: 8px auto;
    border-radius: 999px;
    background-color: #D1D5DB;
  }
}

/* ========================
   Special Context Styles
   ======================== */
/* What's the Deal section */
.bg-primary\/5 p, 
.bg-\[#FFDEE2\] p, 
.bg-\[#F2FCE2\] p {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
}

.bg-primary\/5 ul, 
.bg-\[#FFDEE2\] ul, 
.bg-\[#F2FCE2\] ul {
  margin-top: 0.75rem;
}

/* Fix for bullet points that use • character */
p:has(• ):before, 
div:has(• ):before {
  content: "•";
  position: absolute;
  left: -1rem;
}
