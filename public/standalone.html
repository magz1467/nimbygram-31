<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Standalone Application</title>
  <!-- Load React from CDN -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-router-dom@6/umd/react-router-dom.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    body {
      font-family: system-ui, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    .header {
      background-color: #fff;
      padding: 15px 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }
    .card {
      background-color: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }
    button {
      background-color: #0070f3;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
      cursor: pointer;
      margin-right: 10px;
    }
    button:hover {
      background-color: #0051a2;
    }
    .map-container {
      height: 500px;
      background-color: #e5e5e5;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    // Use React Router components
    const { BrowserRouter, Routes, Route, Link, useNavigate, useLocation } = ReactRouterDOM;
    
    // Create a simple store for map view state
    const MapViewContext = React.createContext();
    
    function MapViewProvider({ children }) {
      const [isMapView, setMapView] = React.useState(false);
      
      return (
        <MapViewContext.Provider value={{ isMapView, setMapView }}>
          {children}
        </MapViewContext.Provider>
      );
    }
    
    function useMapViewStore() {
      return React.useContext(MapViewContext);
    }
    
    // Header component
    function Header() {
      const navigate = useNavigate();
      const { isMapView, setMapView } = useMapViewStore();
      
      return (
        <div className="header">
          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
            <h1>My Application</h1>
            <div>
              <button onClick={() => navigate('/')}>Home</button>
              <button onClick={() => navigate('/search-results')}>Search Results</button>
              <button 
                onClick={() => setMapView(!isMapView)}
                style={{ backgroundColor: isMapView ? '#0051a2' : '#0070f3' }}
              >
                {isMapView ? 'Hide Map' : 'Show Map'}
              </button>
            </div>
          </div>
        </div>
      );
    }
    
    // Home page
    function HomePage() {
      return (
        <div className="container">
          <div className="card">
            <h2>Welcome to the Home Page</h2>
            <p>This is a standalone version of your application.</p>
          </div>
        </div>
      );
    }
    
    // Search Results page
    function SearchResults() {
      const location = useLocation();
      const { isMapView, setMapView } = useMapViewStore();
      const searchParams = new URLSearchParams(location.search);
      
      // Check if we should show map based on URL parameter
      React.useEffect(() => {
        if (searchParams.get('showMap') === 'true') {
          setMapView(true);
        }
      }, [location.search]);
      
      return (
        <div className="container">
          {isMapView ? (
            <MapView />
          ) : (
            <div className="card">
              <h2>Search Results</h2>
              <p>This would display your search results.</p>
              <button onClick={() => setMapView(true)}>Show Map View</button>
            </div>
          )}
        </div>
      );
    }
    
    // Map View component
    function MapView() {
      const { setMapView } = useMapViewStore();
      
      return (
        <div className="container">
          <div className="card">
            <h2>Map View</h2>
            <button onClick={() => setMapView(false)}>Hide Map</button>
            
            <div className="map-container">
              <div>
                <h3>Map Placeholder</h3>
                <p>The actual map would be displayed here.</p>
              </div>
            </div>
          </div>
        </div>
      );
    }
    
    // Main App component
    function App() {
      return (
        <div>
          <Header />
          <Routes>
            <Route path="/" element={<HomePage />} />
            <Route path="/search-results" element={<SearchResults />} />
            <Route path="/map" element={<SearchResults />} />
            <Route path="*" element={<div className="container"><h2>Page Not Found</h2></div>} />
          </Routes>
        </div>
      );
    }
    
    // Root component
    function Root() {
      return (
        <BrowserRouter>
          <MapViewProvider>
            <App />
          </MapViewProvider>
        </BrowserRouter>
      );
    }
    
    // Render the application
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<Root />);
  </script>
</body>
</html> 